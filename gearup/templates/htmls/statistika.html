{% extends "htmls/base.html" %}

{% load static i18n %}

{% block title %}GearUp - Statistika{% endblock %}
{% block content %}
  <head>
    <title>Auto Servis Portal - Statistika</title>
    <meta name="viewport" content="width=device-width" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script  src="{% static 'js/statistika.js' %}"></script>
    <link rel="stylesheet" href="{% static 'css/statistika.css' %}" />
  </head>


      <!-- Main Content -->
      <main class="main-content">
        <header class="main-header">
          <div class="header-profile">
            <div class="header-icons">
              <div class="message-badge">
                <i class="fas fa-envelope"></i>
                <span class="badge">2</span>
              </div>
              <span class="notification-badge">
                <i class="fas fa-bell"></i>
                <span class="badge">3</span>
              </span>
            </div>
            <div class="profile-info">
              <span class="profile-name">Ivan Horvat</span>
              <span class="profile-role">Glavni Mehaničar</span>
            </div>
            <img src="https://ui-avatars.com/api/?name=Ivan+Horvat&background=0D8ABC&color=fff" alt="Profil" class="profile-image">
          </div>
        </header>

        <div class="page-header">
          <h1>Statistika</h1>
          <button class="mobile-nav-toggle" id="mobileNavToggle">
            <i class="fas fa-bars"></i>
          </button>
        </div>



        <div class="stats-container">
          <!-- Quick Stats -->
          <div class="quick-stats">
            <div class="stat-card">
              <div class="stat-icon" style="background: rgba(34, 197, 94, 0.1);">
                <i class="fas fa-wrench" style="color: #22c55e;"></i>
              </div>
              <div class="stat-info">
                <h3>Aktivni Popravci</h3>
                <p class="stat-number">12</p>
                <span class="stat-trend positive">
                  <i class="fas fa-arrow-up"></i> 8% od jučer
                </span>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon" style="background: rgba(14, 165, 233, 0.1);">
                <i class="fas fa-car" style="color: #0ea5e9;"></i>
              </div>
              <div class="stat-info">
                <h3>Vozila u Redu</h3>
                <p class="stat-number">8</p>
                <span class="stat-trend negative">
                  <i class="fas fa-arrow-down"></i> 3% od jučer
                </span>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon" style="background: rgba(168, 85, 247, 0.1);">
                <i class="fas fa-file-invoice-dollar" style="color: #a855f7;"></i>
              </div>
              <div class="stat-info">
                <h3>Današnji Prihod</h3>
                <p class="stat-number">21.500 kn</p>
                <span class="stat-trend positive">
                  <i class="fas fa-arrow-up"></i> 12% od jučer
                </span>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon" style="background: rgba(245, 158, 11, 0.1);">
                <i class="fas fa-calendar-check" style="color: #f59e0b;"></i>
              </div>
              <div class="stat-info">
                <h3>Zakazani Servisi</h3>
                <p class="stat-number">15</p>
                <span class="stat-trend positive">
                  <i class="fas fa-arrow-up"></i> 5% od prošlog tjedna
                </span>
              </div>
            </div>
          </div>

          <!-- Charts Section -->
          <div class="charts-section">
            <!-- Revenue Chart -->
            <div class="chart-card">
              <div class="chart-header">
                <h2>Pregled Prihoda</h2>
                <div class="chart-period">
                  <button class="period-btn active" data-period="week" data-chart="revenue">Tjedan</button>
                  <button class="period-btn" data-period="month" data-chart="revenue">Mjesec</button>
                  <button class="period-btn" data-period="year" data-chart="revenue">Godina</button>
                </div>
              </div>
              <canvas id="revenueChart"></canvas>
            </div>

            <!-- Daily Repairs Chart -->
            <div class="chart-card">
              <div class="chart-header">
                <h2>Broj Popravaka po Danu</h2>
                <div class="chart-period">
                  <button class="period-btn active" data-period="week" data-chart="repairs">Tjedan</button>
                  <button class="period-btn" data-period="month" data-chart="repairs">Mjesec</button>
                  <button class="period-btn" data-period="year" data-chart="repairs">Godina</button>
                </div>
              </div>
              <canvas id="repairsChart"></canvas>
            </div>
          </div>

          <!-- Additional Stats -->
          <div class="additional-stats">
            <div class="stat-card">
              <div class="stat-icon" style="background: rgba(239, 68, 68, 0.1);">
                <i class="fas fa-tools" style="color: #ef4444;"></i>
              </div>
              <div class="stat-info">
                <h3>Prosječno Vrijeme Popravka</h3>
                <p class="stat-number">3.5h</p>
                <span class="stat-trend positive">
                  <i class="fas fa-arrow-down"></i> 10% brže od prosjeka
                </span>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon" style="background: rgba(34, 197, 94, 0.1);">
                <i class="fas fa-user-check" style="color: #22c55e;"></i>
              </div>
              <div class="stat-info">
                <h3>Stopa Povratka Klijenata</h3>
                <p class="stat-number">85%</p>
                <span class="stat-trend positive">
                  <i class="fas fa-arrow-up"></i> 5% od prošlog mjeseca
                </span>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon" style="background: rgba(14, 165, 233, 0.1);">
                <i class="fas fa-clock" style="color: #0ea5e9;"></i>
              </div>
              <div class="stat-info">
                <h3>Prosječno Vrijeme Čekanja</h3>
                <p class="stat-number">2.3 dana</p>
                <span class="stat-trend negative">
                  <i class="fas fa-arrow-up"></i> 1 dan više od prosjeka
                </span>
              </div>
            </div>
          </div>
        </div>
      </main>

{% endblock %}
